<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clean Fruits - Tr√°i C√¢y Nh·∫≠p Kh·∫©u Cao C·∫•p</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    
    <script defer src="js/cart-manager.js"></script>
    <script defer src="js/main.js"></script>
</head>

<body>

    <div class="top-bar">
        <div class="container">
            <div class="contact-info">
                <span><i class="fas fa-phone-alt"></i> 1900 69 69 69</span>
                <span><i class="fas fa-envelope"></i> hunn1302@gmail.com</span>
            </div>
            <div class="social-links">
                <a href="https://www.facebook.com/nhuhungu/?locale=vi_VN" target="_blank"><i class="fab fa-facebook-f"></i></a>
            </div>
        </div>
    </div>

    <div class="header-main">
        <div class="container">
            <a href="index.html" class="logo">Elden <span>Fruits</span></a>

            <div class="search-box">
                <input type="text" placeholder="T√¨m ki·∫øm tr√°i c√¢y, gi·ªè qu√†...">
                <button><i class="fas fa-search"></i></button>
            </div>

            <div class="header-actions">
                <div class="item">
                    <i class="fas fa-user"></i>
                    <div id="user-account" style="line-height: 1.4;">
                        <a href="auth.html" style="color: inherit; text-decoration: none; font-weight: bold;">ƒêƒÉng nh·∫≠p/ƒêƒÉng k√≠</a>
                        <div style="font-size: 13px;">T√†i kho·∫£n c·ªßa t√¥i</div>
                    </div>
                </div>

                <div class="item">
                    <a href="cart.html"><i class="fas fa-shopping-basket"></i></a>
                    <a href="cart.html"><div id="cart-count">Gi·ªè h√†ng (0)</div></a>
                </div>
            </div>
        </div>
    </div>

    <nav class="main-nav">
        <div class="container">
            <ul>
                <li><a href="flash-sale.html">Ch∆∞∆°ng tr√¨nh khuy·∫øn m√£i</a></li>
                <li class="has-dropdown">
                    <a href="all-products.html">S·∫£n ph·∫©m <i class="fas fa-caret-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="best-seller.html">Best seller</a></li>
                        <li><a href="all-products.html?category=dang-mua">Tr√°i c√¢y ƒëang m√πa</a></li>
                        <li><a href="all-products.html?category=cherry">Cherry nh·∫≠p kh·∫©u</a></li>
                        <li><a href="all-products.html?category=nho">Nho nh·∫≠p kh·∫©u</a></li>
                        <li><a href="all-products.html?category=tao">T√°o nh·∫≠p kh·∫©u</a></li>
                        <li><a href="all-products.html?category=kiwi">Kiwi</a></li>
                        <li><a href="all-products.html?category=viet-nam">Tr√°i c√¢y Vi·ªát Nam</a></li>
                    </ul>
                </li>
                <li><a href="gift.html">Gi·ªè qu√† t·∫∑ng</a></li>
                <li><a href="cut-fruit.html">Tr√°i c√¢y c·∫Øt s·∫µn</a></li>
                <li><a href="#">Kh√°m ph√° Elden</a></li>
                <li><a href="#">Li√™n h·ªá</a></li>
            </ul>
        </div>
    </nav>

    <div class="hero-slider">
        <div class="slides">
            <div class="slide active">
                <img src="img/slide1.avif" alt="">
            </div>
            <div class="slide">
                <img src="img/slide2.webp" alt="">
            </div>
            <div class="slide">
                <img src="img/slide3.webp" alt="">
            </div>
        </div>

        <button class="prev">&#10094;</button>
        <button class="next">&#10095;</button>

        <div class="dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </div>
    
    <script>
        const slides = document.querySelectorAll(".slide");
        const dots = document.querySelectorAll(".dot");
        const nextBtn = document.querySelector(".next");
        const prevBtn = document.querySelector(".prev");

        var index = 0;

        function showSlide(i) {
            slides.forEach(slide => slide.classList.remove("active"));
            dots.forEach(dot => dot.classList.remove("active"));

            slides[i].classList.add("active");
            dots[i].classList.add("active");
        }

        nextBtn.onclick = () => {
            index = (index + 1) % slides.length;
            showSlide(index);
        };

        prevBtn.onclick = () => {
            index = (index - 1 + slides.length) % slides.length;
            showSlide(index);
        };

        dots.forEach((dot, i) => {
            dot.onclick = () => {
                index = i;
                showSlide(index);
            };
        });

        // T·ª± ƒë·ªông ch·∫°y
        setInterval(() => {
            index = (index + 1) % slides.length;
            showSlide(index);
        }, 5000);
    </script>


    <div class="section-wrapper">
        <div class="section-title">
            <a href="flash-sale.html"><h2>Flash Sale</h2></a>
        </div>
        <div class="slider-wrapper">
            <button class="slider-btn prev" onclick="scrollSlider('flash-sale-list', -1)"><i
                    class="fas fa-chevron-left"></i></button>
            <div class="product-grid slider-container" id="flash-sale-list"></div>
            <button class="slider-btn next" onclick="scrollSlider('flash-sale-list', 1)"><i
                    class="fas fa-chevron-right"></i></button>
        </div>
        <div class="view-all-wrapper">
            <a href="flash-sale.html" class="btn-view-all">Xem t·∫•t c·∫£</a>
        </div>
    </div>

    <div class="container">
        <div class="category-section">
            <div class="section-header">
                <div class="section-title"><a href="all-products.html">S·∫¢N PH·∫®M</a></div>
            </div>

            <div class="category-grid">
                <div class="category-card" data-category="dang-mua">
                    <div class="icon-container">üçä</div>
                    <div class="category-name">Tr√°i C√¢y ƒêang M√πa</div>
                </div>

                <div class="category-card" data-category="cherry">
                    <div class="icon-container">üçí</div>
                    <div class="category-name">Cherry Nh·∫≠p Kh·∫©u</div>
                </div>

                <div class="category-card" data-category="nho">
                    <div class="icon-container">üçá</div>
                    <div class="category-name">Nho Nh·∫≠p Kh·∫©u</div>
                </div>

                <div class="category-card" data-category="tao">
                    <div class="icon-container">üçé</div>
                    <div class="category-name">T√°o Nh·∫≠p Kh·∫©u</div>
                </div>

                <div class="category-card" data-category="kiwi">
                    <div class="icon-container">ü•ù</div>
                    <div class="category-name">Kiwi</div>
                </div>

                <div class="category-card" data-category="viet-nam">
                    <div class="icon-container">üçå</div>
                    <div class="category-name">Tr√°i c√¢y Vi·ªát Nam</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JavaScript ƒë·ªÉ x·ª≠ l√Ω click v√†o category
        const categoryCards = document.querySelectorAll('.category-card');

        categoryCards.forEach(card => {
            card.addEventListener('click', function () {
                // B·ªè active kh·ªèi t·∫•t c·∫£ c√°c card
                categoryCards.forEach(c => c.classList.remove('active'));

                // Th√™m active v√†o card ƒë∆∞·ª£c click
                this.classList.add('active');

                // L·∫•y category ƒë√£ ch·ªçn
                const category = this.dataset.category;
                console.log('ƒê√£ ch·ªçn category:', category);
                // Chuy·ªÉn h∆∞·ªõng
                window.location.href = `all-products.html?category=${category}`;
            });
        });

        // Th√™m hi·ªáu ·ª©ng ripple khi click
        categoryCards.forEach(card => {
            card.addEventListener('click', function (e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    width: ${size}px;
                    height: ${size}px;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.5);
                    left: ${x}px;
                    top: ${y}px;
                    pointer-events: none;
                    animation: ripple 0.6s ease-out;
                `;

                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        });

        // CSS cho ripple effect
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                from {
                    transform: scale(0);
                    opacity: 1;
                }
                to {
                    transform: scale(2);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>

    <div class="section-wrapper">
        <div class="section-title">
            <a href="best-seller.html"><h2>S·∫£n Ph·∫©m B√°n Ch·∫°y</h2></a>
        </div>
        <div class="slider-wrapper">
            <button class="slider-btn prev" onclick="scrollSlider('best-seller-list', -1)"><i
                    class="fas fa-chevron-left"></i></button>
            <div class="product-grid slider-container" id="best-seller-list"></div>
            <button class="slider-btn next" onclick="scrollSlider('best-seller-list', 1)"><i
                    class="fas fa-chevron-right"></i></button>
        </div>
        <div class="view-all-wrapper">
            <a href="best-seller.html" class="btn-view-all">Xem t·∫•t c·∫£</a>
        </div>
    </div>

    <div class="section-wrapper">
        <div class="section-title">
            <a href="gift.html"><h2>Gi·ªè Qu√† Bi·∫øu T·∫∑ng</h2></a>
        </div>
        <div class="slider-wrapper">
            <button class="slider-btn prev" onclick="scrollSlider('gift-list', -1)"><i
                    class="fas fa-chevron-left"></i></button>
            <div class="product-grid slider-container" id="gift-list"></div>
            <button class="slider-btn next" onclick="scrollSlider('gift-list', 1)"><i
                    class="fas fa-chevron-right"></i></button>
        </div>
        <div class="view-all-wrapper">
            <a href="gift.html" class="btn-view-all">Xem t·∫•t c·∫£</a>
        </div>
    </div>

    <div class="section-wrapper">
        <div class="section-title">
            <a href="cut-fruit.html"><h2>Tr√°i c√¢y c·∫Øt s·∫µn</h2></a>
        </div>
        <div class="slider-wrapper">
            <button class="slider-btn prev" onclick="scrollSlider('cut-fruit-list', -1)"><i
                    class="fas fa-chevron-left"></i></button>
            <div class="product-grid slider-container" id="cut-fruit-list"></div>
            <button class="slider-btn next" onclick="scrollSlider('cut-fruit-list', 1)"><i
                    class="fas fa-chevron-right"></i></button>
        </div>
        <div class="view-all-wrapper">
            <a href="cut-fruit.html" class="btn-view-all">Xem t·∫•t c·∫£</a>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>V·ªÅ Elden Fruits</h3>
                    <p>H·ªá th·ªëng tr√°i c√¢y nh·∫≠p kh·∫©u uy t√≠n h√†ng ƒë·∫ßu Vi·ªát Nam. Cam k·∫øt ch·∫•t l∆∞·ª£ng v√† ngu·ªìn g·ªëc xu·∫•t x·ª© r√µ
                        r√†ng.</p>
                </div>
                <div class="footer-col">
                    <h3>H·ªó Tr·ª£ Kh√°ch H√†ng</h3>
                    <ul>
                        <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
                        <li><a href="#">H∆∞·ªõng d·∫´n mua h√†ng</a></li>
                        <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                        <li><a href="#">Li√™n h·ªá</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Th√¥ng Tin Li√™n H·ªá</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> H√† N·ªôi, Vi·ªát Nam</li>
                        <li><i class="fas fa-phone"></i> 1900 69 69 69</li>
                        <li><i class="fas fa-envelope"></i> hieptrumtoantin.com.vn</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                &copy; 2025 Elden Fruits. All rights reserved.
            </div>
        </div>
    </footer>

    <script src="js/user-manager.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Ki·ªÉm tra UserManager
            if(typeof UserManager !== 'undefined') {
                const currentUser = UserManager.getCurrentUser();
                const userArea = document.getElementById('user-account');

                if (currentUser && userArea) {
                    // N·∫øu ƒê√É ƒêƒÇNG NH·∫¨P -> ƒê·ªïi ch·ªØ ƒêƒÉng nh·∫≠p th√†nh T√™n User + Link ƒê∆°n h√†ng
                    userArea.innerHTML = `
                        <div style="font-weight: bold; color: #4CAF50;">
                            Ch√†o, ${currentUser.fullName || currentUser.username}
                        </div>
                        <div style="font-size: 13px;">
                            <a href="my-orders.html" style="color: #333; text-decoration: none;">üì¶ ƒê∆°n mua</a>
                            <span style="margin:0 5px">|</span>
                            <a href="#" onclick="UserManager.logout()" style="color: red; text-decoration: none;">Tho√°t</a>
                        </div>
                    `;
                }
            }
        });
    </script>

</body>

</html>